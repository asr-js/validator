{"version":3,"sources":["webpack://validator/webpack/universalModuleDefinition","webpack://validator/webpack/bootstrap","webpack://validator/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://validator/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://validator/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://validator/./node_modules/@babel/runtime/helpers/inherits.js","webpack://validator/./node_modules/@babel/runtime/helpers/typeof.js","webpack://validator/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://validator/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://validator/./src/option/index.ts","webpack://validator/./src/option/required-option.ts","webpack://validator/./src/option/string-option.ts","webpack://validator/./src/option/number-option.ts","webpack://validator/./src/option/phone-option.ts","webpack://validator/./src/rule/index.ts","webpack://validator/./src/rule/required-rule.ts","webpack://validator/./src/rule/limit-rule.ts","webpack://validator/./src/generate.ts","webpack://validator/./src/index.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","instance","Constructor","TypeError","_typeof","assertThisInitialized","self","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","constructor","writable","configurable","obj","iterator","ReferenceError","_setPrototypeOf","this","required","strict","min","max","undefined","Math","pow","phoneReg","pattern","message","tigger","trigger","blacklist","strictValidator","rule","cValue","callback","trim","length","Error","includes","option","validator","generateMessage","type","generate","ruleType","rules","push"],"mappings":"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","file":"validator.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"validator\"] = factory();\n\telse\n\t\troot[\"validator\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","/**\n * 校验项\n *\n * @author surh\n */\nexport default class Option {\n  public constructor(name: string) {\n    this.name = name;\n  }\n\n  /** 字段名称 */\n  public name: string = '';\n}\n","import Option from '.';\n\n/**\n * 必须校验项\n *\n * @author surh\n */\nexport default class RequiredOption extends Option {\n  public constructor(name: string, required: boolean, strict?: boolean) {\n    super(name);\n    this.required = required;\n    if (strict) {\n      this.strict = strict;\n    }\n  }\n\n  /** 必须 */\n  public required: boolean = true;\n\n  /** 严格的 */\n  public strict: boolean = false;\n}\n","import RequiredOption from './required-option';\n\n/**\n * 字符串校验项\n *\n * @author surh\n */\nexport default class StringOption extends RequiredOption {\n  public constructor(\n    name: string,\n    required: boolean,\n    strict?: boolean,\n    min?: number,\n    max?: number,\n  ) {\n    super(name, required, strict);\n    if (min !== undefined) {\n      this.min = min;\n    }\n    if (max !== undefined) {\n      this.max = max;\n    }\n  }\n\n  /** 最小长度 */\n  public min: number = 0;\n\n  /** 最大长度 */\n  public max: number = 32;\n}\n","import RequiredOption from './required-option';\n\n/**\n * 数值校验项\n *\n * @author surh\n */\nexport default class NumberOption extends RequiredOption {\n  public constructor(\n    name: string,\n    required: boolean,\n    strict?: boolean,\n    min?: number,\n    max?: number,\n  ) {\n    super(name, required, strict);\n    if (min !== undefined) {\n      this.min = min;\n    }\n    if (max !== undefined) {\n      this.max = max;\n    }\n  }\n  /** 最小值 */\n  public min: number = 0;\n\n  /** 最大值 */\n  public max: number = Math.pow(2, 31) - 1;\n}\n","import RequiredOption from './required-option';\n\n/** 电话正则校验 */\nconst phoneReg: RegExp = /^(((\\+\\d{2}-)?0\\d{2,3}-\\d{7,8})|((\\+\\d{2}-)?(\\d{2,3}-)?([1][3,4,5,7,8][0-9]\\d{8})))$/;\n\n/**\n * 电话校验项\n *\n * @author surh\n */\nexport default class PhoneOption extends RequiredOption {\n  public constructor(\n    name: string,\n    required: boolean,\n    strict?: boolean,\n    min?: number,\n    max?: number,\n    pattern?: RegExp,\n  ) {\n    super(name, required, strict);\n    if (min !== undefined) {\n      this.min = min;\n    }\n    if (max !== undefined) {\n      this.max = max;\n    }\n    if (pattern) {\n      this.pattern = pattern;\n    }\n  }\n\n  /** 最小长度 */\n  public min: number = 0;\n\n  /** 最大长度 */\n  public max: number = 11;\n\n  /** 电话正则校验 */\n  public pattern: RegExp = phoneReg;\n}\n","/**\n * 规则\n *\n * @author surh\n */\nexport default class Rule {\n  public constructor(message: string, tigger?: 'change' | 'blur') {\n    this.message = message;\n    if (tigger) {\n      this.trigger = tigger;\n    }\n  }\n\n  /** 消息 */\n  public message: string = '';\n\n  /** 触发 */\n  public trigger: 'change' | 'blur' = 'change';\n}\n","import Rule from '.';\nimport RequiredOption from '../option/required-option';\n\nconst blacklist = [undefined, null, 0, []];\n\n/**\n * 严格校验器\n *\n * @param rule\n * @param cValue\n * @param callback\n */\nfunction strictValidator(\n  rule: RequiredRule,\n  cValue: any,\n  callback: (err?: Error) => void,\n) {\n  switch (typeof cValue) {\n    case 'string':\n      const value = cValue.trim();\n      if (value.length === 0 || value === '0') {\n        callback(new Error(rule.message));\n      }\n      break;\n    default:\n      if (blacklist.includes(cValue)) {\n        callback(new Error(rule.message));\n      }\n      break;\n  }\n\n  callback();\n}\n\n/**\n * 必须规则\n *\n * @author surh\n */\nexport default class RequiredRule extends Rule {\n  public constructor(option: RequiredOption) {\n    super(`${option.name}不能为空`);\n    if (option.strict) {\n      this.validator = strictValidator;\n    }\n  }\n\n  /** 必须 */\n  public static required: true = true;\n\n  /** 验证器 */\n  public validator?: (\n    rule: any,\n    value: string | number | null | any[],\n    callback: (err?: Error) => void,\n  ) => void;\n}\n","import Rule from './';\nimport NumberOption from '../option/number-option';\nimport StringOption from '../option/string-option';\nimport PhoneOption from '../option/phone-option';\n\n/**\n * 生成消息\n *\n * @param option 校验项\n */\nfunction generateMessage(option: NumberOption | StringOption | PhoneOption) {\n  let message: string = '';\n\n  if (option instanceof NumberOption) {\n    message = `${option.name}值必须不小于 ${option.min} 且不大于 ${option.max} 之间`;\n  } else if (option instanceof StringOption) {\n    message = `${option.name}长度不小于 ${option.min} 且不大于 ${option.max} 个字符`;\n  } else if (option instanceof PhoneOption) {\n    message = `请输入正确的${option.name}`;\n  }\n\n  return message;\n}\n\n/**\n * 限制规则\n *\n * @author surh\n */\nexport default class LimitRule extends Rule {\n  public constructor(option: NumberOption | StringOption | PhoneOption) {\n    super(generateMessage(option));\n    this.min = option.min;\n    this.max = option.max;\n\n    if (option instanceof NumberOption) {\n      this.type = 'number';\n    } else if (option instanceof StringOption) {\n      this.type = 'string';\n    } else if (option instanceof PhoneOption) {\n      this.pattern = option.pattern;\n    }\n  }\n\n  /** 类型 */\n  public type:\n    | 'string'\n    | 'number'\n    | 'boolean'\n    | 'method'\n    | 'regexp'\n    | 'integer'\n    | 'float'\n    | 'array'\n    | 'object'\n    | 'enum'\n    | 'date'\n    | 'url'\n    | 'hex'\n    | 'email'\n    | 'any' = 'any';\n\n  /** 最小 */\n  public min: number = 0;\n\n  /** 最大 */\n  public max: number = 0;\n\n  /** 正则匹配 */\n  public pattern?: RegExp;\n}\n","import Option from './option';\nimport RequireOption from './option/required-option';\nimport StringOption from './option/string-option';\nimport NumberOption from './option/number-option';\nimport PhoneOption from './option/phone-option';\n\nimport Rule from './rule';\nimport RequiredRule from './rule/required-rule';\nimport LimitRule from './rule/limit-rule';\n\n/** 规则类型 */\ntype RuleType = 'required' | 'string' | 'number' | 'phone';\n\n/**\n * 生成规则\n *\n * @param ruleType 规则类型\n * @param option 校验项\n */\nexport default function generate(ruleType: RuleType, option: Option): Rule[] {\n  const rules: Rule[] = [];\n  switch (ruleType) {\n    case 'required':\n      if (option instanceof RequireOption) {\n        if (option.required) {\n          rules.push(new RequiredRule(option));\n        }\n        break;\n      }\n      throw new Error('option expected: RequireOption');\n    case 'string':\n      if (option instanceof StringOption) {\n        if (option.required) {\n          rules.push(new RequiredRule(option));\n        }\n        rules.push(new LimitRule(option));\n        break;\n      }\n      throw new Error('option expected: StringOption');\n    case 'number':\n      if (option instanceof NumberOption) {\n        if (option.required) {\n          rules.push(new RequiredRule(option));\n        }\n        rules.push(new LimitRule(option));\n        break;\n      }\n      throw new Error('option expected: NumberOption');\n    case 'phone':\n      if (option instanceof PhoneOption) {\n        if (option.required) {\n          rules.push(new RequiredRule(option));\n        }\n        rules.push(new LimitRule(option));\n        break;\n      }\n      throw new Error('option expected: PhoneOption');\n    default:\n      throw new Error(\n        `ruleType expected: 'required' | 'string' | 'number' | 'phone'`,\n      );\n  }\n\n  return rules;\n}\n","export { default as generate } from './generate';\n\nexport { default as Option } from './option';\nexport { default as RequiredOption } from './option/required-option';\nexport { default as NumberOption } from './option/number-option';\nexport { default as StringOption } from './option/string-option';\nexport { default as PhoneOption } from './option/phone-option';\n\nexport { default as Rule } from './rule';\nexport { default as RequiredRule } from './rule/required-rule';\nexport { default as LimitRule } from './rule/limit-rule';\n"],"sourceRoot":""}